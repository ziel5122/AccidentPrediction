?data.frame
weapons.adj = weapons
for (i in 1:nrow(weapons)) {
weapons.adj[i,] = weapons[i,] * scales[i]
}
weapons.adj
weapons = read.csv("/Users/austinzielinski/Downloads/weapon_data.tsv", sep="\t", header=FALSE, stringsAsFactors=FALSE)
weapons = t(weapons)
row.names(weapons) = c("2010","2011","2012","2013","2014")
colnames(weapons) = c("total","total.firearm","handgun","rifle","shotgun","other.gun","unknown.firearm",
"knives","blunt","personal","poison","explosive","fire","narcotics","drowning","strang",
"asphyx","unknown.weapon")
#weapons = data.frame(weapons, stringsAsFactors=FALSE)
weapons = apply(weapons, 2, as.numeric)
weapons[,1]
scales = 13164 / weapons[,1]
weapons.adj = weapons
for (i in 1:nrow(weapons)) {
weapons.adj[i,] = weapons[i,] * scales[i]
}
weapons.adj
barplot(weapons.adj[,4])
barplot(weaponsp,4)
barplot(weapons[,4])
barplot(weapons.adj[,4])
barplot(weapons[,4])
weapons = read.csv("/Users/austinzielinski/Downloads/weapon_data.tsv", sep="\t", header=FALSE, stringsAsFactors=FALSE)
weapons = t(weapons)
row.names(weapons) = c("2010","2011","2012","2013","2014")
colnames(weapons) = c("total","total.firearm","handgun","rifle","shotgun","other.gun","unknown.firearm",
"knives","blunt","personal","poison","explosive","fire","narcotics","drowning","strang",
"asphyx","unknown.weapon")
#weapons = data.frame(weapons, stringsAsFactors=FALSE)
weapons = data.frame(apply(weapons, 2, as.numeric))
weapons$total
weapons$rifle.percent = weapons$rifle/weapons$total
barplot(weapons$rifle.percent)
weapons$rifle.percent
weapons$total.firearm.percent = weapons$total.firearm/weapons$total
barplot(weapons$total.firearm.percent)
barplot(weapons$rifle.percent, beside=TRUE)
barplot(weapons$total.firearm.percent, beside=TRUE)
barplot(weapons$rifle.percent, beside=TRUE)
barplot(weapons$total.firearm.percent, beside=TRUE)
barplot(weapons(c(rifle.percent,total.firearm.percent)), beside=TRUE)
barplot(weaponsc(rifle.percent,total.firearm.percent), beside=TRUE)
barplot(weapons$c(rifle.percent,total.firearm.percent), beside=TRUE)
?barplot
barplot(weapons[c(rifle.percent,total.firearm.percent)], beside=TRUE)
barplot(weapons[c("rifle.percent","total.firearm.percent")], beside=TRUE)
weapons[,2]
barplot(weapons[,c("rifle.percent","total.firearm.percent")], beside=TRUE)
weapons[,c("rifle.percent","total.firearm.percent")]
barplot(weapons[,c("rifle.percent","total.firearm.percent")], beside=TRUE)
barplot(heigh=weapons[,c("rifle.percent","total.firearm.percent")], beside=TRUE)
barplot(height=weapons[,c("rifle.percent","total.firearm.percent")], beside=TRUE)
barplot(subset, beside=TRUE)
subset
subs = weapons[,c("rifle.percent","total.firearm.percent")]
barplot(subs, beside=TRUE)
library(ggplot2)
df = melt(subs, experiment=c("X", "X & Y")),variable_name="metric")
df = melt(data.frame(subs, experiment=c("X", "X & Y")),variable_name="metric")
install.packages("reshape2")
library(reshape2)
df = melt(data.frame(subs, experiment=c("X", "X & Y")),variable_name="metric")
df = melt(data.frame(subs, experiment=c("2010","2011","2012","2013","2014")),variable_name="metric")
ggplot(df, aes(experiment, value, fill=metric)) +
geom_bar(position="dodge")
ggplot(df, aes(experiment, value)) +
geom_bar(position="dodge")
ggplot(df, aes(experiment, value)), geom_bar(position="dodge")
ggplot(df, aes(experiment, value)) +
geom_bar(position="dodge")
ggplot(df, aes(experiment, value)) geom_bar(position="dodge")
ggplot(df, aes(experiment, value)),geom_bar(position="dodge")
ggplot(df, aes(experiment, value)) +
geom_bar(position="dodge")
ggplot(df, aes(experiment, value))
geom_bar(stat="identity")
barplot(subs)
barplot(as.matrix(subs))
barplot(as.matrix(subs), beside=TRUE)
subs = weapons[,c("total","total.firearm","rifle")]
barplot(as.matrix(subs), beside=TRUE)
barplot(as.matrix(subs), beside=TRUE, col=(rainbow(5)))
barplot(as.matrix(subs), beside=TRUE, col=(rainbow(5)), names.arg=c("Total","Firearm","Rifle"), main="Homocide Counts by Weapon")
barplot(as.matrix(subs), beside=TRUE, names.arg=c("Total","Firearm","Rifle"), main="Homocide Counts by Weapon")
subs = weapons[,c("total","total.firearm","handgun","rifle")]
barplot(as.matrix(subs), beside=TRUE, names.arg=c("Total","Firearm","Rifle"), main="Homocide Counts by Weapon")
subs = weapons[,c("total","total.firearm","handgun","rifle")]
barplot(as.matrix(subs), beside=TRUE, names.arg=c("Total","Firearm","Handgun","Rifle"), main="Homocide Counts by Weapon")
main="Homocide Counts by Weapon", legend())
main="Homocide Counts by Weapon", legend=)
lengend()
legend()
legend("top")
legend("top", legend="dogs")
legend("top", legend=c("Total","Firearm","Handgun","Rifle"), col=gray.colors(5))
legend("top", legend=c("Total","Firearm","Handgun","Rifle"), col=gray.colors(5), cex=2)
legend("topright", legend=c("Total","Firearm","Handgun","Rifle"), col=gray.colors(5))
barplot(as.matrix(subs), beside=TRUE, names.arg=c("Total","Firearm","Handgun","Rifle"),
main="Homocide Counts by Weapon")
legend("topright", legend=c("Total","Firearm","Handgun","Rifle"), col=gray.colors(5))
legend("topright", legend=c("Total","Firearm","Handgun","Rifle"), col=gray.colors(5), pch=1)
legend("topright", legend=c("Total","Firearm","Handgun","Rifle"), col=gray.colors(5), pch=15)
legend("topright", legend=c("2010","2011","2012","2013","2014"), col=gray.colors(5), pch=15)
barplot(as.matrix(subs), beside=TRUE, names.arg=c("Total","Firearm","Handgun","Rifle"),
main="Homocide Counts by Weapon")
legend("topright", legend=c("2010","2011","2012","2013","2014"), col=gray.colors(5), pch=15)
plot(weapons$total, type="l")
plot(weapons$total, type="l", ylim=c(0, 13200))
lines(weapons$total.firearm)
lines(weapons$handgun)
lines(weapons$rifle)
plot(weapons$total, type="l", ylim=c(0, 13200), x.args=c("2010","2011","2012","2013","2014"))
?plot
plot(weapons$total~, type="l", ylim=c(0, 13200), xlab=c("2010","2011","2012","2013","2014"))
plot(weapons$total, type="l", ylim=c(0, 13200), xlab=c("2010","2011","2012","2013","2014"))
lines(weapons$total.firearm)
lines(weapons$handgun)
lines(weapons$rifle)
colors = rainbow(4)
plot(weapons$total, type="l", ylim=c(0, 13200), xlab=c("2010","2011","2012","2013","2014"), col=colors[1]
lines(weapons$total.firearm, col=colors[2])
lines(weapons$handgun, col=colors[3])
lines(weapons$rifle, col=colors[4])
plot(weapons$total, type="l", ylim=c(0, 13200), xlab=c("2010","2011","2012","2013","2014"), col=colors[1])
lines(weapons$total.firearm, col=colors[2])
lines(weapons$handgun, col=colors[3])
lines(weapons$rifle, col=colors[4])
plot(weapons$total, type="l", ylim=c(0, 13200), xlim=c(0,6), xlab=c("2010","2011","2012","2013","2014"), col=colors[1])
lines(weapons$total.firearm, col=colors[2])
lines(weapons$handgun, col=colors[3])
lines(weapons$rifle, col=colors[4])
plot(weapons$total, type="l", ylim=c(0, 13200), xlim=c(2010,2016), xlab=c("2010","2011","2012","2013","2014"), col=colors[1])
plot(weapons$total, type="l", ylim=c(0, 13200), xlab=c("2010","2011","2012","2013","2014"), col=colors[1])
plot(weapons$total~row.names(weapons), type="l", ylim=c(0, 13200), xlab=c("2010","2011","2012","2013","2014"), col=colors[1])
plot(weapons$total~row.names(weapons), type="l", ylim=c(0, 13200), xlab=c("2010","2011","2012","2013","2014"), col=colors[1])
plot(weapons$total~row.names(weapons[1]), type="l", ylim=c(0, 13200), xlab=c("2010","2011","2012","2013","2014"), col=colors[1])
weapons$year = row.names(weapons)
weapons$year
row.names(weapons) = c("2010","2011","2012","2013","2014")
colors = rainbow(4)
plot(weapons$total, type="l", ylim=c(0, 13200), xlab=c("2010","2011","2012","2013","2014"), col=colors[1])
lines(weapons$total.firearm, col=colors[2])
lines(weapons$handgun, col=colors[3])
lines(weapons$rifle, col=colors[4])
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), xlab=c("2010","2011","2012","2013","2014"), col=colors[1])
lines(weapons$total.firearm, col=colors[2])
lines(weapons$total.firearm, col=colors[2])
lines(weapons$handgun, col=colors[3])
lines(weapons$rifle, col=colors[4])
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1])
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2])
lines(weapons$handgun ~ row.names(weapons), col=colors[3])
lines(weapons$rifle ~ row.names(weapons), col=colors[4])
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), xlim=(2010, 2016), col=colors[1],
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), xlim=c(2010, 2016), col=colors[1],
main="Homocide Counts by Weapon")
legend(legend=)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2])
lines(weapons$handgun ~ row.names(weapons), col=colors[3])
lines(weapons$rifle ~ row.names(weapons), col=colors[4])
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2])
lines(weapons$handgun ~ row.names(weapons), col=colors[3])
lines(weapons$rifle ~ row.names(weapons), col=colors[4])
legend("bottomright")
legend("bottomright", legend=c("Total","Firearm","Handgun","Rifle"))
?legend
legend("bottomright", legend=c("Total","Firearm","Handgun","Rifle"), horiz=TRUE)
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend("bottomright", legend=c("Total","Firearm","Handgun","Rifle"), horiz=TRUE)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2])
lines(weapons$handgun ~ row.names(weapons), col=colors[3])
lines(weapons$rifle ~ row.names(weapons), col=colors[4])
legend("bottomright", legend=c("Total","Firearm","Handgun","Rifle"), horiz=TRUE, width=200)
legend("bottomright", legend=c("Total","Firearm","Handgun","Rifle"), horiz=TRUE, bty=o)
legend("bottomright", legend=c("Total","Firearm","Handgun","Rifle"), horiz=TRUE, bty="o")
legend("bottomright", legend=c("Total","Firearm","Handgun","Rifle"), horiz=TRUE, bty="n")
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend("bottomright", legend=c("Total","Firearm","Handgun","Rifle"), horiz=TRUE, bty="n")
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend("bottomright", legend=c("Total","Firearm","Handgun","Rifle"), horiz=TRUE, bty="o")
legend("bottomright", legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend("bottomright", legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
legend(x=2016, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2016, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2014, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2])
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2013, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2, y=100 legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2])
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2, y=100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2])
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2012, y=100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2015, y=100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2])
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2014, y=100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2014, y=1000, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2014, y=8000, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
par(xpd=TRUE)
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2014, y=8000, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
par(mar=c(2,2,3,3))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2014, y=8000, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
par(xpd=TRUE)
par(mar=c(5,2,2,2))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2014, y=8000, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
par(xpd=TRUE)
par(mar=c(5,3,3,5))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2014, y=8000, legend=c("Total","Firearm","Handgun","Rifle"), bty="o")
legend(x=2014, y=8000, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors)
par(xpd=TRUE)
par(mar=c(5,3,3,5))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2014, y=8000, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2])
lines(weapons$handgun ~ row.names(weapons), col=colors[3])
lines(weapons$rifle ~ row.names(weapons), col=colors[4])
par(xpd=TRUE)
par(mar=c(5,3,3,5))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon")
legend(x=2014, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2])
lines(weapons$handgun ~ row.names(weapons), col=colors[3])
lines(weapons$rifle ~ row.names(weapons), col=colors[4])
par(xpd=TRUE)
par(mar=c(5,3,3,5))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", ylab="")
legend(x=2014, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2])
lines(weapons$handgun ~ row.names(weapons), col=colors[3])
lines(weapons$rifle ~ row.names(weapons), col=colors[4])
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", lwd=3)
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", lwd=3)
legend(x=2014, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2], lwd=3)
lines(weapons$handgun ~ row.names(weapons), col=colors[3], lwd=3)
lines(weapons$rifle ~ row.names(weapons), col=colors[4], lwd=3)
par(xpd=TRUE)
par(mar=c(5,3,3,5))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", lwd=5)
legend(x=2014, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2], lwd=5)
lines(weapons$handgun ~ row.names(weapons), col=colors[3], lwd=5)
lines(weapons$rifle ~ row.names(weapons), col=colors[4], lwd=5)
par(xpd=TRUE)
par(mar=c(5,3,3,6))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", lwd=5)
legend(x=2014, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2], lwd=5)
lines(weapons$handgun ~ row.names(weapons), col=colors[3], lwd=5)
lines(weapons$rifle ~ row.names(weapons), col=colors[4], lwd=5)
par(xpd=TRUE)
par(mar=c(5,3,3,7))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", lwd=5)
legend(x=2014, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2], lwd=5)
lines(weapons$handgun ~ row.names(weapons), col=colors[3], lwd=5)
lines(weapons$rifle ~ row.names(weapons), col=colors[4], lwd=5)
par(xpd=TRUE)
par(mar=c(5,3,3,8))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="l", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", lwd=5)
legend(x=2014, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2], lwd=5)
lines(weapons$handgun ~ row.names(weapons), col=colors[3], lwd=5)
lines(weapons$rifle ~ row.names(weapons), col=colors[4], lwd=5)
grid()
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2], lwd=5, type="b")
par(xpd=TRUE)
par(mar=c(5,3,3,6))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="b", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", lwd=5)
legend(x=2014, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2], lwd=5, type="b")
lines(weapons$handgun ~ row.names(weapons), col=colors[3], lwd=5, type="b")
lines(weapons$rifle ~ row.names(weapons), col=colors[4], lwd=5, type="b")
grid()
grid(nx=5)
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="b", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", lwd=5)
legend(x=2014, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2], lwd=5, type="b")
lines(weapons$handgun ~ row.names(weapons), col=colors[3], lwd=5, type="b")
lines(weapons$rifle ~ row.names(weapons), col=colors[4], lwd=5, type="b")
grid(nx=5)
par(xpd=TRUE)
par(mar=c(5,3,3,6))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="b", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", lwd=5)
legend(x=2014, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2], lwd=5, type="b")
lines(weapons$handgun ~ row.names(weapons), col=colors[3], lwd=5, type="b")
lines(weapons$rifle ~ row.names(weapons), col=colors[4], lwd=5, type="b")
grid()
par(mar=c(5,3,3,6))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="b", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", lwd=5)
legend(x=2014, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15, lwd=5)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2], lwd=5, type="b")
lines(weapons$handgun ~ row.names(weapons), col=colors[3], lwd=5, type="b")
lines(weapons$rifle ~ row.names(weapons), col=colors[4], lwd=5, type="b")
grid()
plot(weapons$total ~ row.names(weapons), type="b", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", lwd=5)
legend(x=2014.5, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
plot(weapons$total ~ row.names(weapons), type="b", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", lwd=5)
legend(x=2014.1, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2], lwd=5, type="b")
lines(weapons$handgun ~ row.names(weapons), col=colors[3], lwd=5, type="b")
lines(weapons$rifle ~ row.names(weapons), col=colors[4], lwd=5, type="b")
grid()
par(xpd=TRUE)
par(mar=c(5,3,3,7))
colors = rainbow(4)
plot(weapons$total ~ row.names(weapons), type="b", ylim=c(0, 13200), col=colors[1],
main="Homocide Counts by Weapon", xlab="year", lwd=5)
legend(x=2014.1, y=9100, legend=c("Total","Firearm","Handgun","Rifle"), bty="o", col=colors, pch=15)
lines(weapons$total.firearm ~ row.names(weapons), col=colors[2], lwd=5, type="b")
lines(weapons$handgun ~ row.names(weapons), col=colors[3], lwd=5, type="b")
lines(weapons$rifle ~ row.names(weapons), col=colors[4], lwd=5, type="b")
grid()
genders = data.frame(male=c(3733,5209), female=c(1664,881))
barplot(genders, beside=TRUE)
barplot(as.matrix(genders), beside=TRUE)
genders = data.frame(white=c(3733,1664), black=c(5209,881))
barplot(as.matrix(genders), beside=TRUE)
genders$white.perc = genders$white / sum(genders$white)
genders$black.perc = genders$black / sum(genders$black)
barplot(as.matrix(genders), beside=TRUE)
barplot(as.matrix(genders[,3:4]), beside=TRUE)
if (dirname(rstudioapi::getActiveDocumentContext()$path) != "")
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
if (dirname(rstudioapi::getActiveDocumentContext()$path) != "")
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
if (dirname(rstudioapi::getActiveDocumentContext()$path) != "")
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
install.packages("rstudioapi")
library(rstudioapi)
if (dirname(rstudioapi::getActiveDocumentContext()$path) != "")
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
library(rstudioapi)
if (dirname(rstudioapi::getActiveDocumentContext()$path) != "")
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
library(rstudioapi)
if (dirname(rstudioapi::getActiveDocumentContext()$path) != "")
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
setwd("/Users/austinzielinski/AccidentPrediction")
library(e1071)
library(rpart)
library(rpart.plot)
library(sas7bdat)
source("libraries\\cross-validate.R")
source("libraries\\cross-validate.R")
getwd()
source("libraries/cross-validate.R")
source("libraries/data-utils.R")
accident.GES = read.sas7bdat("GES2014sas\\accident.sas7bdat")
person.GES   = read.sas7bdat("GES2014sas\\person.sas7bdat")
vehicle.GES  = read.sas7bdat("GES2014sas\\vehicle.sas7bdat")
vision.GES   = read.sas7bdat("GES2014sas\\vision.sas7bdat")
accident.FARS = read.sas7bdat("FARS2014sas\\accident.sas7bdat")
accident.GES = read.sas7bdat("GES2014sas/accident.sas7bdat")
load("~/.RData")
load("~/AccidentPrediction/.RData")
rm(list=ls())
load("~/AccidentPrediction/.RData")
time2.GES = c("4", "3", "6")
tim2[1]
time2[1]
time2.GES[1]
time2.GES = data.frame(c("4", "3"), c("6"))
time2.GES[1]
time2.GES = data.frame(c("4", "3"), c("6", "5"))
time2.GES = data.frame(c("4", "3"), c("6", "5"))
time2.GES[1]
time2.GES
time2.GES = data.frame(sin(time.GES$WEEK), cos(time.GES$MONTH),
sin(time.GES$DAY_WEEK), cos(time.DAY_WEEK),
sin(time.GES$HOUR_IM), cos(time, HOUR_IM))
time2.GES = data.frame(sin(time.GES$MONTH), cos(time.GES$MONTH),
sin(time.GES$DAY_WEEK), cos(time.DAY_WEEK),
sin(time.GES$HOUR_IM), cos(time, HOUR_IM))
time2.GES = data.frame(sin(time.GES$MONTH), cos(time.GES$MONTH),
sin(time.GES$DAY_WEEK), cos(time.GES$DAY_WEEK),
sin(time.GES$HOUR_IM), cos(time, HOUR_IM))
time2.GES = data.frame(sin(time.GES$MONTH), cos(time.GES$MONTH),
sin(time.GES$DAY_WEEK), cos(time.GES$DAY_WEEK),
sin(time.GES$HOUR_IM), cos(time.GES$HOUR_IM))
write.csv(time.GES, "time-GES2.csv", rownames=FALSE)
write.csv(time.GES, "time-GES2.csv", row.names=FALSE)
write.csv(time.GES, "time-GES2.csv", row.names=FALSE, header=FALSE)
?write.csv
write.csv(time.GES, "time-GES2.csv", row.names=FALSE, col.names=FALSE)
write.csv(time2.GES, "time-GES2.csv", row.names=FALSE, col.names=FALSE)
sin(time.GES$HOUR_IM), cos(time.GES$HOUR_IM), time.GES$injury)
MONTH
MONTH
time2.GES = data.frame(sin(time.GES$MONTH), cos(time.GES$MONTH),
sin(time.GES$DAY_WEEK), cos(time.GES$DAY_WEEK),
sin(time.GES$HOUR_IM), cos(time.GES$HOUR_IM), time.GES$injury)
write.csv(time2.GES, "time-GES2.csv", row.names=FALSE, col.names=FALSE)
write.csv(time2.GES, "time-GES2.csv", row.names=FALSE)
head(time.GES$injury)
accident.GES$injury = as.numeric(accident.GES$injury)
time2.GES.GES$injury = as.numeric(accident.GES$injury)
time2.GES$injury = as.numeric(accident.GES$injury)
time.GES = accident.GES[,c("MONTH", "DAY_WEEK", "HOUR_IM", "injury")]
time2.GES = data.frame(sin(time.GES$MONTH), cos(time.GES$MONTH),
sin(time.GES$DAY_WEEK), cos(time.GES$DAY_WEEK),
sin(time.GES$HOUR_IM), cos(time.GES$HOUR_IM), time.GES$injury)
write.csv(time2.GES, "time-GES2.csv", row.names=FALSE)
```
```{r}
accident.FARS[,"hour_of_year"] = accident.FARS$HOUR + 100*accident.FARS$DAY + 10000*accident.FARS$MONTH
barplot(accident.FARS$FATALS, accident.FARS$hour_of_year)
barplot(table(accident.FARS$hour_of_year))
accident.FARS[,"day_of_year"] = accident.FARS$DAY + 100*accident.FARS$MONTH
barplot(accident.FARS$FATALS, accident.FARS$day_of_year)
barplot(table(accident.FARS$day_Of_year))
sort(unique(accident.FARS$day_Of_year))
day_of_year = accident.GES$DAY_WEEK + 100*accident.GES$MONTH
times_of_year = sort(unique(day_of_year))
accident.GES
barplot(table(accident.GES$NO_INJ_IM))
sort(names(accident.GES))
unique(accident.GES$MINUTE_IM)
unique(accident.GES$MONTH)
```
```{r}
summary(fit)
fit = lm(NO_INJ_IM ~ HOUR_IM + MINUTE_IM + DAY_WEEK + MONTH, data=accident.GES)
fit = lm(NO_INJ_IM ~ HOUR_IM + MINUTE_IM + MONTH, data=accident.GES)
summary(fit)
nrow(data.sets[[1]])
data.sets = splitData(accident.GES[,c("HOUR_IM", "MINUTE_IM", "DAY_WEEK", "MONTH")], c(.6, .2))
```
```{r}
crossValidate.linreg(accident.GES, c("HOUR_IM", "MINUTE_IM", "DAY_WEEK", "MONTH"), "NO_INJ_IM", 5)
time2.GES = data.frame(sin(time.GES$MONTH), cos(time.GES$MONTH),
sin(time.GES$DAY_WEEK), cos(time.GES$DAY_WEEK),
sin(time.GES$HOUR_IM), cos(time.GES$HOUR_IM), time.GES$injury)
write.csv(time2.GES, "time-GES2.csv", row.names=FALSE)
?aggregate
time.agg = aggregate(time.GES$injury, time.GES$HOUR_IM, mean)
time.agg = aggregate(time.GES$injury, by=list(hour=time.GES$HOUR_IM), mean)
barplot(time.agg)
View(time.agg)
barplot(time.agg$x, time.agg$hour)
